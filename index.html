<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Games Hub</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        .game-container {
            min-height: 400px; /* Ensure a minimum height for game content */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        /* Tic-Tac-Toe specific styles */
        .tic-tac-toe-grid {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 8px;
            background-color: #cbd5e1; /* Slate-300 */
            border-radius: 8px;
            padding: 8px;
        }
        .tic-tac-toe-cell {
            width: 100px;
            height: 100px;
            background-color: #e2e8f0; /* Slate-200 */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s ease-in-out;
            color: #334155; /* Slate-700 */
        }
        .tic-tac-toe-cell:hover {
            background-color: #d1d5db; /* Gray-300 */
        }
        .tic-tac-toe-cell.x {
            color: #ef4444; /* Red-500 */
        }
        .tic-tac-toe-cell.o {
            color: #22c55e; /* Green-500 */
        }

        /* Memory Match specific styles */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 80px); /* 4 columns for 16 cards */
            grid-template-rows: repeat(4, 80px);
            gap: 10px;
            perspective: 1000px; /* For 3D flip effect */
        }
        .memory-card {
            width: 80px;
            height: 80px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .memory-card.flipped {
            transform: rotateY(180deg);
        }
        .memory-card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border-radius: 8px;
        }
        .memory-card-front {
            background-color: #60a5fa; /* Blue-400 */
            color: white;
            transform: rotateY(180deg);
        }
        .memory-card-back {
            background-color: #a78bfa; /* Purple-400 */
            color: white;
        }
        .memory-card.matched .memory-card-front,
        .memory-card.matched .memory-card-back {
            background-color: #34d399; /* Green-400 for matched */
            color: white;
        }

        /* Game Card specific styles for the home screen */
        .game-card {
            background-color: #ffffff;
            border-radius: 1rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 1.5rem; /* p-6 */
            cursor: pointer;
            transform: scale(1);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .game-card:hover {
            transform: scale(1.05); /* hover:scale-105 */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* hover:shadow-xl */
        }
        .game-card-icon {
            font-size: 4rem; /* text-6xl */
            margin-bottom: 1rem; /* mb-4 */
        }
        .game-card-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: bold;
            color: #1f2937; /* Gray-800 */
            margin-bottom: 0.5rem; /* mb-2 */
        }
        .game-card-description {
            color: #4b5563; /* Gray-600 */
        }

        /* Dice animation */
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        .animate-bounce {
            animation: bounce 0.5s ease-in-out;
        }

        /* Color Mixer specific styles */
        .color-box {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            border: 2px solid #ccc;
        }
        .color-slider {
            width: 100%;
            -webkit-appearance: none;
            height: 10px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }
        .color-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }
        .color-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }

        /* Number Sorter styles */
        .number-sorter-item {
            display: inline-block;
            background-color: #6366f1; /* Indigo-500 */
            color: white;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 0.5rem;
            font-weight: bold;
            font-size: 1.25rem;
            min-width: 50px;
            text-align: center;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 shadow-lg rounded-b-xl">
        <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
            <h1 class="text-3xl font-bold mb-2 sm:mb-0">üéÆ Mini Games Hub</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><button onclick="showGameSelection()" class="px-4 py-2 bg-white text-blue-600 rounded-lg shadow-md hover:bg-gray-100 transition duration-300 ease-in-out font-semibold">Home</button></li>
                    <li><button onclick="showGame('comingSoon')" class="px-4 py-2 bg-white text-gray-500 rounded-lg shadow-md cursor-not-allowed font-semibold opacity-75">Coming Soon!</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-4 flex items-center justify-center">
        <div id="gameContent" class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-2xl game-container">
            <!-- Game content or game selection will be loaded here -->
        </div>
    </main>

    <footer class="bg-gray-800 text-white p-4 text-center rounded-t-xl mt-auto">
        <p>&copy; 2025 Mini Games Hub. All rights reserved.</p>
    </footer>

    <script>
        // Function to show different games or the game selection screen
        function showGame(gameId) {
            const gameContentDiv = document.getElementById('gameContent');
            gameContentDiv.innerHTML = ''; // Clear previous content

            // Ensure the game-container's justify-content is set correctly
            gameContentDiv.classList.remove('justify-center', 'items-center');
            gameContentDiv.classList.add('flex-col'); // Always flex-col for game content

            switch (gameId) {
                case 'guessTheNumber':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üî¢ Guess the Number!</h2>
                        <p class="text-lg text-gray-700 mb-4">I'm thinking of a number between 1 and 100. Can you guess it?</p>
                        <input type="number" id="guessInput" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full max-w-xs text-center text-xl" placeholder="Enter your guess">
                        <button onclick="checkGuess()" class="mt-4 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105">Submit Guess</button>
                        <p id="message" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="resetGame()" id="resetButton" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    // Initialize game variables
                    window.randomNumber = Math.floor(Math.random() * 100) + 1;
                    window.attempts = 0;
                    break;
                case 'rockPaperScissors':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚úä‚úã‚úåÔ∏è Rock Paper Scissors!</h2>
                        <p class="text-lg text-gray-700 mb-4">Choose your move:</p>
                        <div class="flex space-x-4 mb-6">
                            <button onclick="playRPS('rock')" class="px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">‚úä Rock</button>
                            <button onclick="playRPS('paper')" class="px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">‚úã Paper</button>
                            <button onclick="playRPS('scissors')" class="px-6 py-3 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">‚úåÔ∏è Scissors</button>
                        </div>
                        <p id="rpsResult" class="mt-4 text-xl font-medium text-gray-800"></p>
                        <p id="rpsScore" class="mt-2 text-lg text-gray-600">Score: Player ${window.playerScore || 0} - Computer ${window.computerScore || 0}</p>
                        <button onclick="resetRPS()" id="rpsResetButton" class="mt-4 px-4 py-2 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    // Initialize RPS game variables (or ensure they are initialized if not already)
                    window.playerScore = window.playerScore || 0;
                    window.computerScore = window.computerScore || 0;
                    break;
                case 'ticTacToe':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚ùå‚≠ï Tic-Tac-Toe!</h2>
                        <p id="ticTacToeStatus" class="text-xl font-medium text-gray-800 mb-4">Player X's turn</p>
                        <div id="ticTacToeGrid" class="tic-tac-toe-grid">
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(0)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(1)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(2)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(3)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(4)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(5)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(6)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(7)"></div>
                            <div class="tic-tac-toe-cell" onclick="handleCellClick(8)"></div>
                        </div>
                        <button onclick="resetTicTacToe()" class="mt-6 px-4 py-2 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition duration-300 ease-in-out">Reset Game</button>
                    `;
                    initializeTicTacToe(); // Initialize the Tic-Tac-Toe game
                    break;
                case 'memoryMatch':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üß† Memory Match!</h2>
                        <p id="memoryStatus" class="text-xl font-medium text-gray-800 mb-4">Moves: 0</p>
                        <div id="memoryGrid" class="memory-grid">
                            <!-- Cards will be generated here by JavaScript -->
                        </div>
                        <button onclick="resetMemoryMatch()" class="mt-6 px-4 py-2 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition duration-300 ease-in-out">Reset Game</button>
                    `;
                    initializeMemoryMatch(); // Initialize the Memory Match game
                    break;
                case 'diceRoll':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üé≤ Dice Roll!</h2>
                        <p class="text-lg text-gray-700 mb-4">Click the button to roll the dice!</p>
                        <button onclick="rollDice()" class="mt-4 px-8 py-4 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition duration-300 ease-in-out transform hover:scale-105 text-3xl">Roll Dice</button>
                        <p id="diceResult" class="mt-6 text-5xl font-extrabold text-blue-700"></p>
                    `;
                    break;
                case 'coinFlip':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">ü™ô Coin Flip!</h2>
                        <p class="text-lg text-gray-700 mb-4">Call it in the air: Heads or Tails?</p>
                        <div class="flex space-x-4 mb-6">
                            <button onclick="flipCoin('Heads')" class="px-6 py-3 bg-gray-700 text-white font-semibold rounded-lg shadow-md hover:bg-gray-800 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">Heads</button>
                            <button onclick="flipCoin('Tails')" class="px-6 py-3 bg-gray-700 text-white font-semibold rounded-lg shadow-md hover:bg-gray-800 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">Tails</button>
                        </div>
                        <p id="coinResult" class="mt-4 text-xl font-medium text-gray-800"></p>
                        <p id="coinMessage" class="mt-2 text-lg text-gray-600"></p>
                    `;
                    break;
                case 'higherLower':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üÉè Higher or Lower?</h2>
                        <p class="text-lg text-gray-700 mb-4">Current Card: <span id="currentCard" class="font-bold text-2xl text-blue-600"></span></p>
                        <div class="flex space-x-4 mb-6">
                            <button onclick="makeHigherLowerGuess('higher')" class="px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">Higher</button>
                            <button onclick="makeHigherLowerGuess('lower')" class="px-6 py-3 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">Lower</button>
                        </div>
                        <p id="higherLowerResult" class="mt-4 text-xl font-medium text-gray-800"></p>
                        <p id="higherLowerStreak" class="mt-2 text-lg text-gray-600">Streak: 0</p>
                        <button onclick="resetHigherLower()" class="mt-4 px-4 py-2 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    initializeHigherLower();
                    break;
                case 'timedClicker':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚è±Ô∏è Timed Clicker!</h2>
                        <p class="text-lg text-gray-700 mb-4">Click the button as many times as you can in 10 seconds!</p>
                        <p id="clickerTimer" class="text-2xl font-bold text-red-600 mb-4">Time: 10s</p>
                        <p id="clickerCount" class="text-4xl font-extrabold text-blue-700 mb-6">Clicks: 0</p>
                        <button onclick="startClickerGame()" id="clickerButton" class="px-8 py-4 bg-indigo-500 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition duration-300 ease-in-out transform hover:scale-105 text-3xl">Start Clicking!</button>
                        <button onclick="resetClickerGame()" id="clickerResetButton" class="mt-4 px-4 py-2 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    initializeTimedClicker();
                    break;
                case 'rpsls':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üññ Rock Paper Scissors Lizard Spock!</h2>
                        <p class="text-lg text-gray-700 mb-4">Choose your move:</p>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                            <button onclick="playRPSLS('rock')" class="px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 ease-in-out transform hover:scale-105 text-xl">‚úä Rock</button>
                            <button onclick="playRPSLS('paper')" class="px-4 py-2 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition duration-300 ease-in-out transform hover:scale-105 text-xl">‚úã Paper</button>
                            <button onclick="playRPSLS('scissors')" class="px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out transform hover:scale-105 text-xl">‚úåÔ∏è Scissors</button>
                            <button onclick="playRPSLS('lizard')" class="px-4 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition duration-300 ease-in-out transform hover:scale-105 text-xl">ü¶é Lizard</button>
                            <button onclick="playRPSLS('spock')" class="px-4 py-2 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-600 transition duration-300 ease-in-out transform hover:scale-105 text-xl">üññ Spock</button>
                        </div>
                        <p id="rpslsResult" class="mt-4 text-xl font-medium text-gray-800"></p>
                        <p id="rpslsScore" class="mt-2 text-lg text-gray-600">Score: Player 0 - Computer 0</p>
                        <button onclick="resetRPSLS()" class="mt-4 px-4 py-2 bg-indigo-500 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    window.rpslsPlayerScore = 0;
                    window.rpslsComputerScore = 0;
                    break;
                case 'guessTheColor':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üé® Guess the Color!</h2>
                        <p class="text-lg text-gray-700 mb-4">I'm thinking of a color. Can you guess it?</p>
                        <div id="colorOptions" class="grid grid-cols-3 gap-4 mb-6 w-full max-w-sm">
                            <!-- Color buttons will be generated here -->
                        </div>
                        <p id="colorMessage" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="resetGuessTheColor()" id="colorResetButton" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out hidden">Play Again</button>
                    `;
                    initializeGuessTheColor();
                    break;
                case 'wordScramble':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üî† Word Scramble!</h2>
                        <p class="text-lg text-gray-700 mb-4">Unscramble the word!</p>
                        <div class="mb-4">
                            <label for="wordLength" class="block text-gray-700 text-sm font-bold mb-2">Word Length:</label>
                            <select id="wordLength" onchange="initializeWordScramble()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="easy">Easy (4-5 letters)</option>
                                <option value="medium">Medium (6-7 letters)</option>
                                <option value="hard">Hard (8+ letters)</option>
                            </select>
                        </div>
                        <p id="scrambledWord" class="text-4xl font-extrabold text-purple-700 mb-6 tracking-widest"></p>
                        <input type="text" id="scrambleGuessInput" class="p-3 border-2 border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 w-full max-w-xs text-center text-xl" placeholder="Your guess">
                        <button onclick="checkWordScrambleGuess()" class="mt-4 px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition duration-300 ease-in-out transform hover:scale-105">Submit Guess</button>
                        <p id="scrambleMessage" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="initializeWordScramble()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">New Word</button>
                    `;
                    initializeWordScramble();
                    break;
                case 'typingSpeedTest':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚å®Ô∏è Typing Speed Test!</h2>
                        <p class="text-lg text-gray-700 mb-4">Type the text below as fast as you can!</p>
                        <div class="mb-4">
                            <label for="typingTextChoice" class="block text-gray-700 text-sm font-bold mb-2">Text Length:</label>
                            <select id="typingTextChoice" onchange="initializeTypingSpeedTest()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="short">Short Phrase</option>
                                <option value="long">Longer Paragraph</option>
                            </select>
                        </div>
                        <p id="typingTextDisplay" class="bg-gray-100 p-4 rounded-lg border border-gray-300 text-lg text-gray-800 mb-6 text-center"></p>
                        <textarea id="typingInput" oninput="startTypingTest()" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full max-w-xl h-24 text-lg" placeholder="Start typing here..."></textarea>
                        <p id="typingResult" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="initializeTypingSpeedTest()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">Reset Test</button>
                    `;
                    initializeTypingSpeedTest();
                    break;
                case 'quickMath':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚ûï Quick Math!</h2>
                        <p class="text-lg text-gray-700 mb-4">Solve the equation!</p>
                        <div class="mb-4">
                            <label for="mathOperation" class="block text-gray-700 text-sm font-bold mb-2">Operation:</label>
                            <select id="mathOperation" onchange="generateMathProblem()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="add">Addition (+)</option>
                                <option value="subtract">Subtraction (-)</option>
                                <option value="multiply">Multiplication (x)</option>
                                <option value="divide">Division (/)</option>
                            </select>
                        </div>
                        <p id="mathProblem" class="text-4xl font-extrabold text-blue-700 mb-6"></p>
                        <input type="number" id="mathAnswerInput" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full max-w-xs text-center text-xl" placeholder="Your answer">
                        <button onclick="checkMathAnswer()" class="mt-4 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105">Submit Answer</button>
                        <p id="mathMessage" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="generateMathProblem()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">New Problem</button>
                    `;
                    generateMathProblem();
                    break;
                case 'colorMixer':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üåà Color Mixer!</h2>
                        <p class="text-lg text-gray-700 mb-4">Mix colors or guess the mix!</p>
                        <div class="mb-4">
                            <label for="colorMixerMode" class="block text-gray-700 text-sm font-bold mb-2">Mode:</label>
                            <select id="colorMixerMode" onchange="initializeColorMixer()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="mix">Mix Colors</option>
                                <option value="guess">Guess the Color</option>
                            </select>
                        </div>
                        <div id="colorMixerContent" class="w-full flex flex-col items-center">
                            <!-- Content will be loaded by JS -->
                        </div>
                    `;
                    initializeColorMixer();
                    break;
                case 'countdownTimer':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">‚è∞ Countdown Timer!</h2>
                        <p class="text-lg text-gray-700 mb-4">Set a time and watch it count down!</p>
                        <div class="mb-4">
                            <label for="timerInput" class="block text-gray-700 text-sm font-bold mb-2">Set Time (seconds):</label>
                            <input type="number" id="timerInput" value="60" min="1" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full max-w-xs text-center text-xl">
                        </div>
                        <button onclick="startCountdown()" id="startButton" class="mt-4 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-300 ease-in-out transform hover:scale-105">Start Countdown</button>
                        <p id="countdownDisplay" class="mt-6 text-5xl font-extrabold text-red-600"></p>
                        <button onclick="resetCountdown()" id="resetCountdownButton" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out hidden">Reset Timer</button>
                    `;
                    initializeCountdownTimer();
                    break;
                case 'numberSorter':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üî¢ Number Sorter!</h2>
                        <p class="text-lg text-gray-700 mb-4">Arrange the numbers from smallest to largest.</p>
                        <div class="mb-4">
                            <label for="numElements" class="block text-gray-700 text-sm font-bold mb-2">Number of Elements:</label>
                            <select id="numElements" onchange="initializeNumberSorter()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="5">5 Numbers</option>
                                <option value="7">7 Numbers</option>
                                <option value="10">10 Numbers</option>
                            </select>
                        </div>
                        <div id="numberSorterContainer" class="flex flex-wrap justify-center mb-6 p-4 border-2 border-indigo-300 rounded-lg bg-indigo-50 min-h-[100px]">
                            <!-- Numbers will be draggable here -->
                        </div>
                        <p id="sorterMessage" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="checkNumberSorter()" class="mt-4 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-300 ease-in-out transform hover:scale-105">Check Order</button>
                        <button onclick="initializeNumberSorter()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">New Numbers</button>
                    `;
                    initializeNumberSorter();
                    break;
                case 'shapeGuesser':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üî∫ Shape Guesser!</h2>
                        <p class="text-lg text-gray-700 mb-4">What shape am I thinking of?</p>
                        <div class="mb-4">
                            <label for="shapeDifficulty" class="block text-gray-700 text-sm font-bold mb-2">Difficulty:</label>
                            <select id="shapeDifficulty" onchange="initializeShapeGuesser()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="basic">Basic Shapes</option>
                                <option value="complex">Complex Polygons</option>
                            </select>
                        </div>
                        <div id="shapeDisplay" class="w-48 h-48 flex items-center justify-center bg-gray-100 rounded-lg shadow-inner mb-6">
                            <!-- SVG shape will be drawn here -->
                        </div>
                        <input type="text" id="shapeGuessInput" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full max-w-xs text-center text-xl" placeholder="Your guess">
                        <button onclick="checkShapeGuess()" class="mt-4 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105">Submit Guess</button>
                        <p id="shapeMessage" class="mt-6 text-xl font-medium text-gray-800"></p>
                        <button onclick="initializeShapeGuesser()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">New Shape</button>
                    `;
                    initializeShapeGuesser();
                    break;
                case 'palindromeChecker':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üîÑ Palindrome Checker!</h2>
                        <p class="text-lg text-gray-700 mb-4">Enter a word or number to check if it's a palindrome.</p>
                        <div class="mb-4">
                            <label for="palindromeType" class="block text-gray-700 text-sm font-bold mb-2">Check Type:</label>
                            <select id="palindromeType" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="word">Word</option>
                                <option value="number">Number</option>
                            </select>
                        </div>
                        <input type="text" id="palindromeInput" class="p-3 border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 w-full max-w-xs text-center text-xl" placeholder="Enter text or number">
                        <button onclick="checkPalindrome()" class="mt-4 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-300 ease-in-out transform hover:scale-105">Check</button>
                        <p id="palindromeResult" class="mt-6 text-xl font-medium text-gray-800"></p>
                    `;
                    break;
                case 'randomFactGenerator':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üí° Random Fact!</h2>
                        <p class="text-lg text-gray-700 mb-4">Get a random interesting fact!</p>
                        <div class="mb-4">
                            <label for="factCategory" class="block text-gray-700 text-sm font-bold mb-2">Category:</label>
                            <select id="factCategory" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="animals">Animals</option>
                                <option value="history">History</option>
                                <option value="science">Science</option>
                                <option value="random">Random</option>
                            </select>
                        </div>
                        <button onclick="generateFact()" class="mt-4 px-8 py-4 bg-orange-500 text-white font-semibold rounded-lg shadow-md hover:bg-orange-600 transition duration-300 ease-in-out transform hover:scale-105 text-2xl">Get Fact</button>
                        <p id="factDisplay" class="mt-6 text-xl font-medium text-gray-800 text-center"></p>
                    `;
                    break;
                case 'unitConverter':
                    gameContentDiv.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">üìè Unit Converter!</h2>
                        <p class="text-lg text-gray-700 mb-4">Convert between different units.</p>
                        <div class="mb-4">
                            <label for="conversionType" class="block text-gray-700 text-sm font-bold mb-2">Conversion Type:</label>
                            <select id="conversionType" onchange="setupUnitConverter()" class="shadow border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <option value="length">Length</option>
                                <option value="weight">Weight</option>
                                <option value="temperature">Temperature</option>
                            </select>
                        </div>
                        <div class="flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                            <input type="number" id="inputValue" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto text-center text-xl" placeholder="Value">
                            <select id="inputUnit" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto text-xl"></select>
                            <span class="text-2xl font-bold text-gray-700">‚û°Ô∏è</span>
                            <select id="outputUnit" class="p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto text-xl"></select>
                        </div>
                        <button onclick="convertUnit()" class="mt-4 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105">Convert</button>
                        <p id="conversionResult" class="mt-6 text-xl font-medium text-gray-800"></p>
                    `;
                    setupUnitConverter();
                    break;
                case 'comingSoon':
                    gameContentDiv.classList.add('justify-center', 'items-center'); // Center content for coming soon
                    gameContentDiv.innerHTML = `
                        <h2 class="text-4xl font-extrabold text-gray-800 mb-6">üöÄ More Games Coming Soon!</h2>
                        <p class="text-xl text-gray-600 text-center">We're working hard to bring you exciting new mini-games.</p>
                        <div class="mt-8">
                            <img src="https://placehold.co/300x200/e0e7ff/4f46e5?text=Stay+Tuned!" alt="Placeholder for coming soon" class="rounded-lg shadow-md">
                        </div>
                    `;
                    break;
                default: // Default case for initial load or unknown gameId
                    showGameSelection();
                    break;
            }
        }

        // Function to display the game selection grid
        function showGameSelection() {
            const gameContentDiv = document.getElementById('gameContent');
            gameContentDiv.innerHTML = `
                <h2 class="text-4xl font-extrabold text-gray-800 mb-8 text-center">Choose Your Game!</h2>
                <div id="gameSelectionGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-4xl">
                    <div onclick="showGame('guessTheNumber')" class="game-card bg-blue-100">
                        <div class="game-card-icon">üî¢</div>
                        <h3 class="game-card-title text-blue-800">Guess the Number</h3>
                        <p class="game-card-description">Guess the secret number between 1 and 100.</p>
                    </div>
                    <div onclick="showGame('rockPaperScissors')" class="game-card bg-green-100">
                        <div class="game-card-icon">‚úä‚úã‚úåÔ∏è</div>
                        <h3 class="game-card-title text-green-800">Rock Paper Scissors</h3>
                        <p class="game-card-description">Play the classic hand game against the computer.</p>
                    </div>
                    <div onclick="showGame('ticTacToe')" class="game-card bg-red-100">
                        <div class="game-card-icon">‚ùå‚≠ï</div>
                        <h3 class="game-card-title text-red-800">Tic-Tac-Toe</h3>
                        <p class="game-card-description">Challenge a friend to a game of X's and O's.</p>
                    </div>
                    <div onclick="showGame('memoryMatch')" class="game-card bg-purple-100">
                        <div class="game-card-icon">üß†</div>
                        <h3 class="game-card-title text-purple-800">Memory Match</h3>
                        <p class="game-card-description">Test your memory by finding matching pairs.</p>
                    </div>
                    <div onclick="showGame('diceRoll')" class="game-card bg-yellow-100">
                        <div class="game-card-icon">üé≤</div>
                        <h3 class="game-card-title text-yellow-800">Dice Roll</h3>
                        <p class="game-card-description">Roll a virtual six-sided dice.</p>
                    </div>
                    <div onclick="showGame('coinFlip')" class="game-card bg-gray-200">
                        <div class="game-card-icon">ü™ô</div>
                        <h3 class="game-card-title text-gray-800">Coin Flip</h3>
                        <p class="game-card-description">Call heads or tails and flip a coin.</p>
                    </div>
                    <div onclick="showGame('higherLower')" class="game-card bg-orange-100">
                        <div class="game-card-icon">üÉè</div>
                        <h3 class="game-card-title text-orange-800">Higher or Lower</h3>
                        <p class="game-card-description">Guess if the next card will be higher or lower.</p>
                    </div>
                    <div onclick="showGame('timedClicker')" class="game-card bg-indigo-100">
                        <div class="game-card-icon">‚è±Ô∏è</div>
                        <h3 class="game-card-title text-indigo-800">Timed Clicker</h3>
                        <p class="game-card-description">Click as fast as you can in 10 seconds!</p>
                    </div>
                    <div onclick="showGame('rpsls')" class="game-card bg-pink-100">
                        <div class="game-card-icon">üññ</div>
                        <h3 class="game-card-title text-pink-800">RPSLS</h3>
                        <p class="game-card-description">Rock, Paper, Scissors, Lizard, Spock!</p>
                    </div>
                     <div onclick="showGame('guessTheColor')" class="game-card bg-teal-100">
                        <div class="game-card-icon">üé®</div>
                        <h3 class="game-card-title text-teal-800">Guess the Color</h3>
                        <p class="game-card-description">Guess the secret color from a palette.</p>
                    </div>
                    <div onclick="showGame('wordScramble')" class="game-card bg-purple-200">
                        <div class="game-card-icon">üî†</div>
                        <h3 class="game-card-title text-purple-800">Word Scramble</h3>
                        <p class="game-card-description">Unscramble the word! Choose difficulty.</p>
                    </div>
                    <div onclick="showGame('typingSpeedTest')" class="game-card bg-blue-200">
                        <div class="game-card-icon">‚å®Ô∏è</div>
                        <h3 class="game-card-title text-blue-800">Typing Speed Test</h3>
                        <p class="game-card-description">Test your typing speed with different texts.</p>
                    </div>
                    <div onclick="showGame('quickMath')" class="game-card bg-green-200">
                        <div class="game-card-icon">‚ûï</div>
                        <h3 class="game-card-title text-green-800">Quick Math</h3>
                        <p class="game-card-description">Solve math problems! Choose operation.</p>
                    </div>
                    <div onclick="showGame('colorMixer')" class="game-card bg-red-200">
                        <div class="game-card-icon">üåà</div>
                        <h3 class="game-card-title text-red-800">Color Mixer</h3>
                        <p class="game-card-description">Mix RGB colors or guess the color!</p>
                    </div>
                    <div onclick="showGame('countdownTimer')" class="game-card bg-yellow-200">
                        <div class="game-card-icon">‚è∞</div>
                        <h3 class="game-card-title text-yellow-800">Countdown Timer</h3>
                        <p class="game-card-description">Set a timer and watch it count down.</p>
                    </div>
                    <div onclick="showGame('numberSorter')" class="game-card bg-indigo-200">
                        <div class="game-card-icon">üî¢</div>
                        <h3 class="game-card-title text-indigo-800">Number Sorter</h3>
                        <p class="game-card-description">Arrange numbers from smallest to largest.</p>
                    </div>
                    <div onclick="showGame('shapeGuesser')" class="game-card bg-gray-300">
                        <div class="game-card-icon">üî∫</div>
                        <h3 class="game-card-title text-gray-800">Shape Guesser</h3>
                        <p class="game-card-description">Guess the hidden shape! Basic or complex.</p>
                    </div>
                    <div onclick="showGame('palindromeChecker')" class="game-card bg-orange-200">
                        <div class="game-card-icon">üîÑ</div>
                        <h3 class="game-card-title text-orange-800">Palindrome Checker</h3>
                        <p class="game-card-description">Check if a word or number is a palindrome.</p>
                    </div>
                    <div onclick="showGame('randomFactGenerator')" class="game-card bg-pink-200">
                        <div class="game-card-icon">üí°</div>
                        <h3 class="game-card-title text-pink-800">Random Fact</h3>
                        <p class="game-card-description">Get a random fact from various categories.</p>
                    </div>
                    <div onclick="showGame('unitConverter')" class="game-card bg-teal-200">
                        <div class="game-card-icon">üìè</div>
                        <h3 class="game-card-title text-teal-800">Unit Converter</h3>
                        <p class="game-card-description">Convert between length, weight, or temperature units.</p>
                    </div>
                </div>
            `;
            // Ensure the game-container is centered for the selection grid
            gameContentDiv.classList.add('justify-center', 'items-center');
        }

        // Guess the Number game logic
        function checkGuess() {
            const guessInput = document.getElementById('guessInput');
            const message = document.getElementById('message');
            const resetButton = document.getElementById('resetButton');
            const guess = parseInt(guessInput.value);

            if (isNaN(guess) || guess < 1 || guess > 100) {
                message.textContent = "Please enter a valid number between 1 and 100.";
                message.className = "mt-6 text-xl font-medium text-red-600";
                return;
            }

            window.attempts++;

            if (guess === window.randomNumber) {
                message.textContent = `üéâ Congratulations! You guessed the number ${window.randomNumber} in ${window.attempts} attempts!`;
                message.className = "mt-6 text-xl font-bold text-green-600";
                guessInput.disabled = true;
                resetButton.classList.remove('hidden');
            } else if (guess < window.randomNumber) {
                message.textContent = "Too low! Try again.";
                message.className = "mt-6 text-xl font-medium text-orange-600";
            } else {
                message.textContent = "Too high! Try again.";
                message.className = "mt-6 text-xl font-medium text-orange-600";
            }
            guessInput.value = ''; // Clear input after guess
            guessInput.focus(); // Keep focus on input
        }

        function resetGame() {
            const guessInput = document.getElementById('guessInput');
            const message = document.getElementById('message');
            const resetButton = document.getElementById('resetButton');

            window.randomNumber = Math.floor(Math.random() * 100) + 1;
            window.attempts = 0;
            guessInput.value = '';
            guessInput.disabled = false;
            message.textContent = '';
            resetButton.classList.add('hidden');
            guessInput.focus();
        }

        // Rock Paper Scissors game logic
        function playRPS(playerChoice) {
            const choices = ['rock', 'paper', 'scissors'];
            const computerChoice = choices[Math.floor(Math.random() * choices.length)];
            let result = '';

            if (playerChoice === computerChoice) {
                result = "It's a tie!";
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                result = "You win!";
                window.playerScore++;
            } else {
                result = "You lose!";
                window.computerScore++;
            }

            const rpsResult = document.getElementById('rpsResult');
            const rpsScore = document.getElementById('rpsScore');
            rpsResult.textContent = `You chose ${playerChoice}, Computer chose ${computerChoice}. ${result}`;
            rpsResult.className = `mt-4 text-xl font-bold ${result.includes('win') ? 'text-green-600' : result.includes('lose') ? 'text-red-600' : 'text-blue-600'}`;
            rpsScore.textContent = `Score: Player ${window.playerScore} - Computer ${window.computerScore}`;

            // Show reset button if a game has been played
            document.getElementById('rpsResetButton').classList.remove('hidden');
        }

        function resetRPS() {
            window.playerScore = 0;
            window.computerScore = 0;
            document.getElementById('rpsResult').textContent = '';
            document.getElementById('rpsScore').textContent = 'Score: Player 0 - Computer 0';
            document.getElementById('rpsResetButton').classList.add('hidden');
        }

        // Tic-Tac-Toe game variables and logic
        let ticTacToeBoard = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let gameActive = true;
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
            [0, 4, 8], [2, 4, 6]             // Diagonals
        ];

        function initializeTicTacToe() {
            ticTacToeBoard = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = 'X';
            gameActive = true;
            document.getElementById('ticTacToeStatus').textContent = `Player ${currentPlayer}'s turn`;
            const cells = document.querySelectorAll('.tic-tac-toe-cell');
            cells.forEach(cell => {
                cell.textContent = '';
                cell.classList.remove('x', 'o');
            });
        }

        function handleCellClick(clickedCellIndex) {
            const clickedCell = document.querySelectorAll('.tic-tac-toe-cell')[clickedCellIndex];

            // If the cell is already filled or game is not active, do nothing
            if (ticTacToeBoard[clickedCellIndex] !== '' || !gameActive) {
                return;
            }

            // Update the board and display
            ticTacToeBoard[clickedCellIndex] = currentPlayer;
            clickedCell.textContent = currentPlayer;
            clickedCell.classList.add(currentPlayer.toLowerCase()); // Add 'x' or 'o' class for styling

            checkWinner();
        }

        function checkWinner() {
            let roundWon = false;
            for (let i = 0; i < winningConditions.length; i++) {
                const winCondition = winningConditions[i];
                let a = ticTacToeBoard[winCondition[0]];
                let b = ticTacToeBoard[winCondition[1]];
                let c = ticTacToeBoard[winCondition[2]];

                if (a === '' || b === '' || c === '') {
                    continue;
                }
                if (a === b && b === c) {
                    roundWon = true;
                    break;
                }
            }

            const statusDisplay = document.getElementById('ticTacToeStatus');
            if (roundWon) {
                statusDisplay.textContent = `üéâ Player ${currentPlayer} has won!`;
                statusDisplay.className = "text-xl font-bold text-green-600 mb-4";
                gameActive = false;
                return;
            }

            // Check for a draw
            let roundDraw = !ticTacToeBoard.includes('');
            if (roundDraw) {
                statusDisplay.textContent = `It's a draw!`;
                statusDisplay.className = "text-xl font-bold text-blue-600 mb-4";
                gameActive = false;
                return;
            }

            // Continue game if no win or draw
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            statusDisplay.textContent = `Player ${currentPlayer}'s turn`;
            statusDisplay.className = "text-xl font-medium text-gray-800 mb-4";
        }

        function resetTicTacToe() {
            initializeTicTacToe();
        }

        // Memory Match game variables and logic
        const memoryCards = ['üçé', 'üçå', 'üçá', 'üçä', 'üçì', 'üçç', 'ü•ù', 'ü•≠', 'üçé', 'üçå', 'üçá', 'üçä', 'ÔøΩ', 'üçç', 'ü•ù', 'ü•≠'];
        let shuffledMemoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let memoryMoves = 0;
        let waitingForSecondCard = false;

        function initializeMemoryMatch() {
            shuffledMemoryCards = shuffleArray([...memoryCards]); // Duplicate and shuffle
            flippedCards = [];
            matchedPairs = 0;
            memoryMoves = 0;
            waitingForSecondCard = false;

            const memoryGrid = document.getElementById('memoryGrid');
            memoryGrid.innerHTML = ''; // Clear existing cards
            document.getElementById('memoryStatus').textContent = `Moves: ${memoryMoves}`;

            shuffledMemoryCards.forEach((emoji, index) => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('memory-card');
                cardElement.dataset.emoji = emoji;
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipCard(cardElement, emoji, index);

                cardElement.innerHTML = `
                    <div class="memory-card-face memory-card-front">${emoji}</div>
                    <div class="memory-card-face memory-card-back">?</div>
                `;
                memoryGrid.appendChild(cardElement);
            });
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }

        function flipCard(cardElement, emoji, index) {
            if (waitingForSecondCard || cardElement.classList.contains('flipped') || cardElement.classList.contains('matched')) {
                return; // Do nothing if already waiting, flipped, or matched
            }

            cardElement.classList.add('flipped');
            flippedCards.push({ element: cardElement, emoji: emoji, index: index });

            if (flippedCards.length === 2) {
                memoryMoves++;
                document.getElementById('memoryStatus').textContent = `Moves: ${memoryMoves}`;
                waitingForSecondCard = true; // Prevent further clicks

                const [card1, card2] = flippedCards;

                if (card1.emoji === card2.emoji) {
                    // Match found
                    card1.element.classList.add('matched');
                    card2.element.classList.add('matched');
                    matchedPairs++;
                    flippedCards = [];
                    waitingForSecondCard = false;

                    if (matchedPairs === memoryCards.length / 2) {
                        setTimeout(() => {
                            document.getElementById('memoryStatus').textContent = `üéâ You won in ${memoryMoves} moves!`;
                            document.getElementById('memoryStatus').className = "text-xl font-bold text-green-600 mb-4";
                        }, 500);
                    }
                } else {
                    // No match, flip back after a delay
                    setTimeout(() => {
                        card1.element.classList.remove('flipped');
                        card2.element.classList.remove('flipped');
                        flippedCards = [];
                        waitingForSecondCard = false;
                    }, 1000);
                }
            }
        }

        function resetMemoryMatch() {
            initializeMemoryMatch();
            document.getElementById('memoryStatus').className = "text-xl font-medium text-gray-800 mb-4";
        }

        // Dice Roll game logic
        function rollDice() {
            const diceResultElement = document.getElementById('diceResult');
            const roll = Math.floor(Math.random() * 6) + 1; // Generate a random number between 1 and 6
            diceResultElement.textContent = `You rolled a ${roll}!`;
            // Optional: Add a visual animation for the dice roll
            diceResultElement.classList.add('animate-bounce');
            setTimeout(() => {
                diceResultElement.classList.remove('animate-bounce');
            }, 500); // Remove bounce after 0.5 seconds
        }

        // Coin Flip game logic
        function flipCoin(playerCall) {
            const coinResultElement = document.getElementById('coinResult');
            const coinMessageElement = document.getElementById('coinMessage');
            const outcomes = ['Heads', 'Tails'];
            const flip = outcomes[Math.floor(Math.random() * outcomes.length)];

            coinResultElement.textContent = `The coin landed on: ${flip}!`;

            if (playerCall === flip) {
                coinMessageElement.textContent = `You called ${playerCall} and you were right! üéâ`;
                coinMessageElement.className = "mt-2 text-lg text-green-600 font-semibold";
            } else {
                coinMessageElement.textContent = `You called ${playerCall}, but it was ${flip}. Better luck next time! üôÅ`;
                coinMessageElement.className = "mt-2 text-lg text-red-600 font-semibold";
            }
        }

        // Higher/Lower game logic
        let currentCardValue;
        let higherLowerStreak = 0;

        function initializeHigherLower() {
            currentCardValue = Math.floor(Math.random() * 13) + 1; // Cards 1-13 (Ace to King)
            document.getElementById('currentCard').textContent = getCardName(currentCardValue);
            document.getElementById('higherLowerResult').textContent = '';
            document.getElementById('higherLowerStreak').textContent = `Streak: ${higherLowerStreak}`;
            document.getElementById('higherLowerResetButton').classList.add('hidden');
        }

        function getCardName(value) {
            switch (value) {
                case 1: return 'Ace';
                case 11: return 'Jack';
                case 12: return 'Queen';
                case 13: return 'King';
                default: return value.toString();
            }
        }

        function makeHigherLowerGuess(guess) {
            const nextCardValue = Math.floor(Math.random() * 13) + 1;
            const higherLowerResultElement = document.getElementById('higherLowerResult');
            const higherLowerStreakElement = document.getElementById('higherLowerStreak');
            const resetButton = document.getElementById('higherLowerResetButton');

            let result = '';
            let correct = false;

            if (guess === 'higher') {
                if (nextCardValue > currentCardValue) {
                    result = `Correct! ${getCardName(nextCardValue)} is higher than ${getCardName(currentCardValue)}.`;
                    correct = true;
                } else {
                    result = `Wrong! ${getCardName(nextCardValue)} is not higher than ${getCardName(currentCardValue)}.`;
                }
            } else { // guess === 'lower'
                if (nextCardValue < currentCardValue) {
                    result = `Correct! ${getCardName(nextCardValue)} is lower than ${getCardName(currentCardValue)}.`;
                    correct = true;
                } else {
                    result = `Wrong! ${getCardName(nextCardValue)} is not lower than ${getCardName(currentCardValue)}.`;
                }
            }

            higherLowerResultElement.textContent = result;
            document.getElementById('currentCard').textContent = getCardName(nextCardValue); // Update current card display

            if (correct) {
                higherLowerStreak++;
                higherLowerResultElement.className = "mt-4 text-xl font-bold text-green-600";
            } else {
                higherLowerStreak = 0; // Reset streak on wrong guess
                higherLowerResultElement.className = "mt-4 text-xl font-bold text-red-600";
                resetButton.classList.remove('hidden'); // Show reset button on loss
            }
            higherLowerStreakElement.textContent = `Streak: ${higherLowerStreak}`;
            currentCardValue = nextCardValue; // Set the next card as the current one for the next round
        }

        function resetHigherLower() {
            higherLowerStreak = 0;
            initializeHigherLower();
            document.getElementById('higherLowerResetButton').classList.add('hidden');
        }

        // Timed Clicker game logic
        let clickCount = 0;
        let timer;
        let timeLeft = 10;
        let clickerGameActive = false;

        function initializeTimedClicker() {
            clickCount = 0;
            timeLeft = 10;
            clickerGameActive = false;
            document.getElementById('clickerCount').textContent = `Clicks: ${clickCount}`;
            document.getElementById('clickerTimer').textContent = `Time: ${timeLeft}s`;
            document.getElementById('clickerButton').textContent = 'Start Clicking!';
            document.getElementById('clickerButton').onclick = startClickerGame;
            document.getElementById('clickerButton').disabled = false;
            document.getElementById('clickerResetButton').classList.add('hidden');
        }

        function startClickerGame() {
            if (clickerGameActive) {
                clickCount++;
                document.getElementById('clickerCount').textContent = `Clicks: ${clickCount}`;
            } else {
                clickerGameActive = true;
                document.getElementById('clickerButton').textContent = 'Click Me!';
                document.getElementById('clickerButton').onclick = () => {
                    clickCount++;
                    document.getElementById('clickerCount').textContent = `Clicks: ${clickCount}`;
                };
                timer = setInterval(() => {
                    timeLeft--;
                    document.getElementById('clickerTimer').textContent = `Time: ${timeLeft}s`;
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        clickerGameActive = false;
                        document.getElementById('clickerButton').textContent = 'Time\'s Up!';
                        document.getElementById('clickerButton').disabled = true;
                        document.getElementById('clickerTimer').textContent = `Time: 0s - Final Score: ${clickCount} clicks!`;
                        document.getElementById('clickerTimer').className = "text-2xl font-bold text-green-600 mb-4";
                        document.getElementById('clickerResetButton').classList.remove('hidden');
                    }
                }, 1000);
            }
        }

        function resetClickerGame() {
            clearInterval(timer);
            initializeTimedClicker();
            document.getElementById('clickerTimer').className = "text-2xl font-bold text-red-600 mb-4";
        }

        // RPSLS (Rock-Paper-Scissors-Lizard-Spock) game logic
        const rpslsChoices = ['rock', 'paper', 'scissors', 'lizard', 'spock'];
        const rpslsRules = {
            rock: ['scissors', 'lizard'],
            paper: ['rock', 'spock'],
            scissors: ['paper', 'lizard'],
            lizard: ['paper', 'spock'],
            spock: ['rock', 'scissors']
        };

        function playRPSLS(playerChoice) {
            const computerChoice = rpslsChoices[Math.floor(Math.random() * rpslsChoices.length)];
            let result = '';

            if (playerChoice === computerChoice) {
                result = "It's a tie!";
            } else if (rpslsRules[playerChoice].includes(computerChoice)) {
                result = "You win!";
                window.rpslsPlayerScore++;
            } else {
                result = "You lose!";
                window.rpslsComputerScore++;
            }

            const rpslsResultElement = document.getElementById('rpslsResult');
            const rpslsScoreElement = document.getElementById('rpslsScore');
            rpslsResultElement.textContent = `You chose ${playerChoice}, Computer chose ${computerChoice}. ${result}`;
            rpslsResultElement.className = `mt-4 text-xl font-bold ${result.includes('win') ? 'text-green-600' : result.includes('lose') ? 'text-red-600' : 'text-blue-600'}`;
            rpslsScoreElement.textContent = `Score: Player ${window.rpslsPlayerScore} - Computer ${window.rpslsComputerScore}`;
            document.getElementById('rpslsResetButton').classList.remove('hidden');
        }

        function resetRPSLS() {
            window.rpslsPlayerScore = 0;
            window.rpslsComputerScore = 0;
            document.getElementById('rpslsResult').textContent = '';
            document.getElementById('rpslsScore').textContent = 'Score: Player 0 - Computer 0';
            document.getElementById('rpslsResetButton').classList.add('hidden');
        }

        // Guess the Color game logic
        const availableColors = [
            { name: 'Red', hex: '#EF4444' },
            { name: 'Blue', hex: '#3B82F6' },
            { name: 'Green', hex: '#22C55E' },
            { name: 'Yellow', hex: '#EAB308' },
            { name: 'Purple', hex: '#A855F7' },
            { name: 'Orange', hex: '#F97316' },
            { name: 'Pink', hex: '#EC4899' },
            { name: 'Cyan', hex: '#06B6D4' }
        ];
        let secretColor;

        function initializeGuessTheColor() {
            secretColor = availableColors[Math.floor(Math.random() * availableColors.length)];
            const colorOptionsDiv = document.getElementById('colorOptions');
            colorOptionsDiv.innerHTML = ''; // Clear previous options
            document.getElementById('colorMessage').textContent = '';
            document.getElementById('colorResetButton').classList.add('hidden');

            // Shuffle colors for display
            const shuffledDisplayColors = shuffleArray([...availableColors]);

            shuffledDisplayColors.forEach(color => {
                const button = document.createElement('button');
                button.classList.add('px-4', 'py-3', 'rounded-lg', 'shadow-md', 'hover:opacity-80', 'transition', 'duration-300', 'ease-in-out', 'transform', 'hover:scale-105', 'font-semibold', 'text-white');
                button.style.backgroundColor = color.hex;
                button.textContent = color.name;
                button.onclick = () => checkColorGuess(color.name);
                colorOptionsDiv.appendChild(button);
            });
        }

        function checkColorGuess(playerGuessName) {
            const colorMessageElement = document.getElementById('colorMessage');
            const colorResetButton = document.getElementById('colorResetButton');
            const colorOptionsDiv = document.getElementById('colorOptions');

            if (playerGuessName === secretColor.name) {
                colorMessageElement.textContent = `üéâ Correct! The color was ${secretColor.name}!`;
                colorMessageElement.className = "mt-6 text-xl font-bold text-green-600";
                colorResetButton.classList.remove('hidden');
                // Disable all color buttons
                Array.from(colorOptionsDiv.children).forEach(button => button.disabled = true);
            } else {
                colorMessageElement.textContent = `Nope! It's not ${playerGuessName}. Try again!`;
                colorMessageElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }

        function resetGuessTheColor() {
            initializeGuessTheColor();
            const colorOptionsDiv = document.getElementById('colorOptions');
            Array.from(colorOptionsDiv.children).forEach(button => button.disabled = false); // Re-enable buttons
            document.getElementById('colorMessage').className = "mt-6 text-xl font-medium text-gray-800";
        }

        // Word Scramble game logic
        const wordLists = {
            easy: ['apple', 'grape', 'lemon', 'peach', 'berry', 'kiwi', 'mango', 'plum'],
            medium: ['banana', 'orange', 'cherry', 'apricot', 'coconut', 'papaya', 'avocado'],
            hard: ['pineapple', 'watermelon', 'strawberry', 'blueberry', 'blackberry', 'raspberry']
        };
        let currentWord = '';

        function initializeWordScramble() {
            const wordLength = document.getElementById('wordLength').value;
            const words = wordLists[wordLength];
            currentWord = words[Math.floor(Math.random() * words.length)];
            const scrambled = currentWord.split('').sort(() => 0.5 - Math.random()).join('');
            document.getElementById('scrambledWord').textContent = scrambled.toUpperCase();
            document.getElementById('scrambleGuessInput').value = '';
            document.getElementById('scrambleMessage').textContent = '';
            document.getElementById('scrambleGuessInput').focus();
        }

        function checkWordScrambleGuess() {
            const guess = document.getElementById('scrambleGuessInput').value.toLowerCase();
            const messageElement = document.getElementById('scrambleMessage');
            if (guess === currentWord) {
                messageElement.textContent = `üéâ Correct! The word was "${currentWord.toUpperCase()}"!`;
                messageElement.className = "mt-6 text-xl font-bold text-green-600";
            } else {
                messageElement.textContent = "Incorrect. Try again!";
                messageElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }

        // Typing Speed Test game logic
        const typingTexts = {
            short: [
                "The quick brown fox jumps over the lazy dog.",
                "Never underestimate the power of a good book.",
                "Innovation distinguishes between a leader and a follower."
            ],
            long: [
                "The early bird catches the worm, but the second mouse gets the cheese. Life is full of choices, and every decision, big or small, shapes our future. Embrace challenges as opportunities for growth and learning.",
                "In a world brimming with possibilities, curiosity is your compass. Explore new ideas, question assumptions, and never stop seeking knowledge. The journey of discovery is endless."
            ]
        };
        let typingStartTime;
        let typingTestActive = false;

        function initializeTypingSpeedTest() {
            const textChoice = document.getElementById('typingTextChoice').value;
            const texts = typingTexts[textChoice];
            const selectedText = texts[Math.floor(Math.random() * texts.length)];
            document.getElementById('typingTextDisplay').textContent = selectedText;
            document.getElementById('typingInput').value = '';
            document.getElementById('typingInput').disabled = false;
            document.getElementById('typingResult').textContent = '';
            typingTestActive = false;
            typingStartTime = null;
            document.getElementById('typingInput').focus();
        }

        function startTypingTest() {
            if (!typingTestActive) {
                typingStartTime = new Date().getTime();
                typingTestActive = true;
            }
            checkTypingProgress();
        }

        function checkTypingProgress() {
            const typedText = document.getElementById('typingInput').value;
            const originalText = document.getElementById('typingTextDisplay').textContent;
            const typingResultElement = document.getElementById('typingResult');

            if (typedText === originalText) {
                const endTime = new Date().getTime();
                const timeTakenSeconds = (endTime - typingStartTime) / 1000;
                const wordsTyped = originalText.split(' ').length;
                const wpm = Math.round((wordsTyped / timeTakenSeconds) * 60);

                typingResultElement.textContent = `üéâ You finished in ${timeTakenSeconds.toFixed(2)} seconds! Your WPM: ${wpm}`;
                typingResultElement.className = "mt-6 text-xl font-bold text-green-600";
                document.getElementById('typingInput').disabled = true;
                typingTestActive = false;
            } else {
                // Basic error highlighting (can be improved)
                let correctChars = 0;
                for (let i = 0; i < typedText.length; i++) {
                    if (typedText[i] === originalText[i]) {
                        correctChars++;
                    } else {
                        break;
                    }
                }
                if (typedText.length > originalText.length || typedText[typedText.length - 1] !== originalText[typedText.length - 1]) {
                    typingResultElement.textContent = "Keep typing! Check for errors.";
                    typingResultElement.className = "mt-6 text-xl font-medium text-orange-600";
                } else {
                     typingResultElement.textContent = "Keep typing...";
                     typingResultElement.className = "mt-6 text-xl font-medium text-gray-800";
                }
            }
        }

        // Quick Math game logic
        let currentMathAnswer;

        function generateMathProblem() {
            const operation = document.getElementById('mathOperation').value;
            const num1 = Math.floor(Math.random() * 20) + 1; // Numbers up to 20
            let num2 = Math.floor(Math.random() * 20) + 1;
            let problemString = '';

            switch (operation) {
                case 'add':
                    currentMathAnswer = num1 + num2;
                    problemString = `${num1} + ${num2} = ?`;
                    break;
                case 'subtract':
                    // Ensure result is not negative for simpler game
                    if (num1 < num2) [num1, num2] = [num2, num1];
                    currentMathAnswer = num1 - num2;
                    problemString = `${num1} - ${num2} = ?`;
                    break;
                case 'multiply':
                    num2 = Math.floor(Math.random() * 10) + 1; // Keep multiplication numbers smaller
                    currentMathAnswer = num1 * num2;
                    problemString = `${num1} x ${num2} = ?`;
                    break;
                case 'divide':
                    // Ensure whole number division
                    let product = num1 * num2;
                    currentMathAnswer = num1;
                    problemString = `${product} / ${num2} = ?`;
                    break;
            }
            document.getElementById('mathProblem').textContent = problemString;
            document.getElementById('mathAnswerInput').value = '';
            document.getElementById('mathMessage').textContent = '';
            document.getElementById('mathAnswerInput').focus();
        }

        function checkMathAnswer() {
            const userAnswer = parseInt(document.getElementById('mathAnswerInput').value);
            const messageElement = document.getElementById('mathMessage');

            if (isNaN(userAnswer)) {
                messageElement.textContent = "Please enter a number.";
                messageElement.className = "mt-6 text-xl font-medium text-red-600";
                return;
            }

            if (userAnswer === currentMathAnswer) {
                messageElement.textContent = `üéâ Correct! The answer was ${currentMathAnswer}!`;
                messageElement.className = "mt-6 text-xl font-bold text-green-600";
            } else {
                messageElement.textContent = `Incorrect. The answer was ${currentMathAnswer}. Try again!`;
                messageElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }

        // Color Mixer game logic
        function initializeColorMixer() {
            const mode = document.getElementById('colorMixerMode').value;
            const contentDiv = document.getElementById('colorMixerContent');
            contentDiv.innerHTML = ''; // Clear previous content

            if (mode === 'mix') {
                contentDiv.innerHTML = `
                    <div class="flex flex-col items-center mb-6 w-full">
                        <div class="flex justify-around w-full mb-4">
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Red</label>
                                <input type="range" min="0" max="255" value="0" id="redSlider" class="color-slider accent-red-500" oninput="updateMixedColor()">
                                <span id="redValue" class="text-sm text-gray-600">0</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Green</label>
                                <input type="range" min="0" max="255" value="0" id="greenSlider" class="color-slider accent-green-500" oninput="updateMixedColor()">
                                <span id="greenValue" class="text-sm text-gray-600">0</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Blue</label>
                                <input type="range" min="0" max="255" value="0" id="blueSlider" class="color-slider accent-blue-500" oninput="updateMixedColor()">
                                <span id="blueValue" class="text-sm text-gray-600">0</span>
                            </div>
                        </div>
                        <div id="mixedColorBox" class="color-box mt-4" style="background-color: rgb(0,0,0);"></div>
                        <p class="mt-2 text-lg text-gray-700" id="rgbDisplay">RGB(0, 0, 0)</p>
                    </div>
                `;
                updateMixedColor(); // Initial color update
            } else { // guess mode
                contentDiv.innerHTML = `
                    <p class="text-lg text-gray-700 mb-4">Guess the RGB values for the color below!</p>
                    <div id="targetColorBox" class="color-box mb-6"></div>
                    <div class="flex flex-col items-center mb-6 w-full">
                        <div class="flex justify-around w-full mb-4">
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Red</label>
                                <input type="range" min="0" max="255" value="0" id="guessRedSlider" class="color-slider accent-red-500" oninput="updateGuessColor()">
                                <span id="guessRedValue" class="text-sm text-gray-600">0</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Green</label>
                                <input type="range" min="0" max="255" value="0" id="guessGreenSlider" class="color-slider accent-green-500" oninput="updateGuessColor()">
                                <span id="guessGreenValue" class="text-sm text-gray-600">0</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <label class="text-gray-700 font-semibold mb-2">Blue</label>
                                <input type="range" min="0" max="255" value="0" id="guessBlueSlider" class="color-slider accent-blue-500" oninput="updateGuessColor()">
                                <span id="guessBlueValue" class="text-sm text-gray-600">0</span>
                            </div>
                        </div>
                        <div id="guessedColorBox" class="color-box mt-4" style="background-color: rgb(0,0,0);"></div>
                        <p class="mt-2 text-lg text-gray-700" id="guessRgbDisplay">RGB(0, 0, 0)</p>
                    </div>
                    <button onclick="checkColorGuessMixer()" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105">Check Guess</button>
                    <p id="colorMixerMessage" class="mt-4 text-xl font-medium text-gray-800"></p>
                    <button onclick="initializeColorMixer()" class="mt-4 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-300 ease-in-out">New Color</button>
                `;
                generateTargetColor();
                updateGuessColor();
            }
        }

        let targetR, targetG, targetB;

        function generateTargetColor() {
            targetR = Math.floor(Math.random() * 256);
            targetG = Math.floor(Math.random() * 256);
            targetB = Math.floor(Math.random() * 256);
            document.getElementById('targetColorBox').style.backgroundColor = `rgb(${targetR},${targetG},${targetB})`;
            document.getElementById('colorMixerMessage').textContent = '';
        }

        function updateMixedColor() {
            const r = document.getElementById('redSlider').value;
            const g = document.getElementById('greenSlider').value;
            const b = document.getElementById('blueSlider').value;

            document.getElementById('redValue').textContent = r;
            document.getElementById('greenValue').textContent = g;
            document.getElementById('blueValue').textContent = b;

            const mixedColor = `rgb(${r},${g},${b})`;
            document.getElementById('mixedColorBox').style.backgroundColor = mixedColor;
            document.getElementById('rgbDisplay').textContent = `RGB(${r}, ${g}, ${b})`;
        }

        function updateGuessColor() {
            const r = document.getElementById('guessRedSlider').value;
            const g = document.getElementById('guessGreenSlider').value;
            const b = document.getElementById('guessBlueSlider').value;

            document.getElementById('guessRedValue').textContent = r;
            document.getElementById('guessGreenValue').textContent = g;
            document.getElementById('guessBlueValue').textContent = b;

            const guessedColor = `rgb(${r},${g},${b})`;
            document.getElementById('guessedColorBox').style.backgroundColor = guessedColor;
            document.getElementById('guessRgbDisplay').textContent = `RGB(${r}, ${g}, ${b})`;
        }

        function checkColorGuessMixer() {
            const guessR = parseInt(document.getElementById('guessRedSlider').value);
            const guessG = parseInt(document.getElementById('guessGreenSlider').value);
            const guessB = parseInt(document.getElementById('guessBlueSlider').value);
            const messageElement = document.getElementById('colorMixerMessage');

            // Simple check for exact match
            if (guessR === targetR && guessG === targetG && guessB === targetB) {
                messageElement.textContent = `üéâ Perfect Match! The color was RGB(${targetR},${targetG},${targetB})!`;
                messageElement.className = "mt-4 text-xl font-bold text-green-600";
            } else {
                // Provide feedback on how close the guess is
                const diffR = Math.abs(guessR - targetR);
                const diffG = Math.abs(guessG - targetG);
                const diffB = Math.abs(guessB - targetB);
                const totalDiff = diffR + diffG + diffB;

                if (totalDiff < 50) { // Arbitrary threshold for "close"
                    messageElement.textContent = `Close! Try to fine-tune. Target: RGB(${targetR},${targetG},${targetB})`;
                    messageElement.className = "mt-4 text-xl font-medium text-orange-600";
                } else {
                    messageElement.textContent = `Not quite. Keep trying! Target: RGB(${targetR},${targetG},${targetB})`;
                    messageElement.className = "mt-4 text-xl font-medium text-red-600";
                }
            }
        }

        // Countdown Timer game logic
        let countdownInterval;
        let currentCountdownTime;

        function initializeCountdownTimer() {
            clearInterval(countdownInterval); // Clear any existing interval
            document.getElementById('countdownDisplay').textContent = '';
            document.getElementById('startButton').disabled = false;
            document.getElementById('timerInput').disabled = false;
            document.getElementById('resetCountdownButton').classList.add('hidden');
            document.getElementById('countdownDisplay').className = "mt-6 text-5xl font-extrabold text-red-600"; // Reset color
        }

        function startCountdown() {
            clearInterval(countdownInterval); // Clear any previous interval
            currentCountdownTime = parseInt(document.getElementById('timerInput').value);

            if (isNaN(currentCountdownTime) || currentCountdownTime <= 0) {
                document.getElementById('countdownDisplay').textContent = "Please enter a valid time!";
                document.getElementById('countdownDisplay').className = "mt-6 text-xl font-medium text-red-600";
                return;
            }

            document.getElementById('startButton').disabled = true;
            document.getElementById('timerInput').disabled = true;
            document.getElementById('resetCountdownButton').classList.remove('hidden');
            document.getElementById('countdownDisplay').className = "mt-6 text-5xl font-extrabold text-red-600"; // Ensure red for countdown

            countdownInterval = setInterval(() => {
                document.getElementById('countdownDisplay').textContent = currentCountdownTime;
                if (currentCountdownTime <= 0) {
                    clearInterval(countdownInterval);
                    document.getElementById('countdownDisplay').textContent = "Time's Up! üîî";
                    document.getElementById('countdownDisplay').className = "mt-6 text-5xl font-extrabold text-green-600"; // Green for completion
                    document.getElementById('startButton').disabled = false; // Allow restarting
                }
                currentCountdownTime--;
            }, 1000);
        }

        function resetCountdown() {
            clearInterval(countdownInterval);
            initializeCountdownTimer();
            document.getElementById('countdownDisplay').textContent = '';
        }

        // Number Sorter game logic
        let sortableNumbers = [];
        let originalNumbers = [];

        function initializeNumberSorter() {
            const numElements = parseInt(document.getElementById('numElements').value);
            originalNumbers = [];
            for (let i = 0; i < numElements; i++) {
                originalNumbers.push(Math.floor(Math.random() * 100) + 1); // Numbers 1-100
            }
            sortableNumbers = shuffleArray([...originalNumbers]); // Shuffle for display

            renderNumberSorter();
            document.getElementById('sorterMessage').textContent = '';
        }

        function renderNumberSorter() {
            const container = document.getElementById('numberSorterContainer');
            container.innerHTML = '';
            sortableNumbers.forEach((num, index) => {
                const item = document.createElement('div');
                item.classList.add('number-sorter-item');
                item.textContent = num;
                item.draggable = true;
                item.dataset.index = index; // Store original position for drag/drop
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragover', handleDragOver);
                item.addEventListener('drop', handleDrop);
                item.addEventListener('dragleave', handleDragLeave);
                item.addEventListener('dragenter', handleDragEnter);
                container.appendChild(item);
            });
        }

        let draggedItem = null;

        function handleDragStart(e) {
            draggedItem = this;
            setTimeout(() => this.style.opacity = '0.5', 0);
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', this.dataset.index); // Store index
        }

        function handleDragOver(e) {
            e.preventDefault(); // Necessary to allow drop
            e.dataTransfer.dropEffect = 'move';
            if (this !== draggedItem) {
                this.style.backgroundColor = '#818cf8'; /* Indigo-400 */
            }
        }

        function handleDragEnter(e) {
            e.preventDefault();
            if (this !== draggedItem) {
                this.style.backgroundColor = '#818cf8'; /* Indigo-400 */
            }
        }

        function handleDragLeave() {
            this.style.backgroundColor = '#6366f1'; /* Indigo-500 */
        }

        function handleDrop(e) {
            e.preventDefault();
            this.style.backgroundColor = '#6366f1'; /* Indigo-500 */

            if (this !== draggedItem) {
                const draggedIndex = parseInt(draggedItem.dataset.index);
                const droppedIndex = parseInt(this.dataset.index);

                // Find the actual DOM elements
                const currentItems = Array.from(document.querySelectorAll('.number-sorter-item'));
                const draggedElement = currentItems.find(item => parseInt(item.dataset.index) === draggedIndex);
                const droppedElement = currentItems.find(item => parseInt(item.dataset.index) === droppedIndex);

                // Swap in the DOM
                if (draggedElement && droppedElement) {
                    const container = document.getElementById('numberSorterContainer');
                    const temp = document.createElement('div'); // Placeholder
                    container.insertBefore(temp, droppedElement);
                    container.insertBefore(droppedElement, draggedElement);
                    container.insertBefore(draggedElement, temp);
                    container.removeChild(temp);

                    // Update the underlying array based on new DOM order
                    sortableNumbers = Array.from(container.children).map(item => parseInt(item.textContent));

                    // Update dataset.index for correct future drag operations
                    Array.from(container.children).forEach((item, idx) => {
                        item.dataset.index = idx;
                    });
                }
            }
            draggedItem.style.opacity = '1';
            draggedItem = null;
        }


        function checkNumberSorter() {
            const currentOrder = Array.from(document.querySelectorAll('.number-sorter-item')).map(item => parseInt(item.textContent));
            const sortedOrder = [...originalNumbers].sort((a, b) => a - b);
            const messageElement = document.getElementById('sorterMessage');

            if (JSON.stringify(currentOrder) === JSON.stringify(sortedOrder)) {
                messageElement.textContent = `üéâ Correct! The numbers are sorted!`;
                messageElement.className = "mt-6 text-xl font-bold text-green-600";
            } else {
                messageElement.textContent = "Not quite sorted. Keep arranging!";
                messageElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }


        // Shape Guesser game logic
        const basicShapes = ['Circle', 'Square', 'Triangle', 'Rectangle', 'Pentagon', 'Hexagon'];
        const complexPolygons = ['Heptagon', 'Octagon', 'Nonagon', 'Decagon', 'Star']; // Star is a simplified representation
        let currentShapeName;

        function initializeShapeGuesser() {
            const difficulty = document.getElementById('shapeDifficulty').value;
            const shapes = difficulty === 'basic' ? basicShapes : complexPolygons;
            currentShapeName = shapes[Math.floor(Math.random() * shapes.length)];

            drawShape(currentShapeName);
            document.getElementById('shapeGuessInput').value = '';
            document.getElementById('shapeMessage').textContent = '';
            document.getElementById('shapeGuessInput').focus();
        }

        function drawShape(shapeName) {
            const shapeDisplay = document.getElementById('shapeDisplay');
            shapeDisplay.innerHTML = ''; // Clear previous shape

            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("width", "180");
            svg.setAttribute("height", "180");
            svg.setAttribute("viewBox", "0 0 180 180"); // Adjust viewBox for padding/centering

            let shapeElement;
            const fillColor = '#60a5fa'; // Blue-400
            const strokeColor = '#3b82f6'; // Blue-500
            const strokeWidth = 5;

            switch (shapeName) {
                case 'Circle':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    shapeElement.setAttribute("cx", "90");
                    shapeElement.setAttribute("cy", "90");
                    shapeElement.setAttribute("r", "70");
                    break;
                case 'Square':
                    shapeElement = document.createElementNS("http://www.w3.org="http://www.w3.org/2000/svg", "rect");
                    shapeElement.setAttribute("x", "20");
                    shapeElement.setAttribute("y", "20");
                    shapeElement.setAttribute("width", "140");
                    shapeElement.setAttribute("height", "140");
                    break;
                case 'Triangle':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    shapeElement.setAttribute("points", "90,20 160,160 20,160");
                    break;
                case 'Rectangle':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                    shapeElement.setAttribute("x", "20");
                    shapeElement.setAttribute("y", "40");
                    shapeElement.setAttribute("width", "140");
                    shapeElement.setAttribute("height", "100");
                    break;
                case 'Pentagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    shapeElement.setAttribute("points", "90,15 170,60 140,160 40,160 10,60");
                    break;
                case 'Hexagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    shapeElement.setAttribute("points", "90,10 170,55 170,125 90,170 10,125 10,55");
                    break;
                case 'Heptagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    // Points for a regular heptagon centered at (90,90) with radius 70
                    const heptagonPoints = [];
                    for (let i = 0; i < 7; i++) {
                        const angle = (Math.PI / 2) + (2 * Math.PI * i / 7); // Start at top
                        const x = 90 + 70 * Math.cos(angle);
                        const y = 90 + 70 * Math.sin(angle);
                        heptagonPoints.push(`${x},${y}`);
                    }
                    shapeElement.setAttribute("points", heptagonPoints.join(' '));
                    break;
                case 'Octagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    shapeElement.setAttribute("points", "70,10 110,10 170,70 170,110 110,170 70,170 10,110 10,70");
                    break;
                case 'Nonagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    // Points for a regular nonagon centered at (90,90) with radius 70
                    const nonagonPoints = [];
                    for (let i = 0; i < 9; i++) {
                        const angle = (Math.PI / 2) + (2 * Math.PI * i / 9); // Start at top
                        const x = 90 + 70 * Math.cos(angle);
                        const y = 90 + 70 * Math.sin(angle);
                        nonagonPoints.push(`${x},${y}`);
                    }
                    shapeElement.setAttribute("points", nonagonPoints.join(' '));
                    break;
                case 'Decagon':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    // Points for a regular decagon centered at (90,90) with radius 70
                    const decagonPoints = [];
                    for (let i = 0; i < 10; i++) {
                        const angle = (Math.PI / 2) + (2 * Math.PI * i / 10); // Start at top
                        const x = 90 + 70 * Math.cos(angle);
                        const y = 90 + 70 * Math.sin(angle);
                        decagonPoints.push(`${x},${y}`);
                    }
                    shapeElement.setAttribute("points", decagonPoints.join(' '));
                    break;
                case 'Star':
                    shapeElement = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                    // A simple 5-pointed star
                    shapeElement.setAttribute("points", "90,10 110,60 170,60 120,100 140,160 90,130 40,160 60,100 10,60 70,60");
                    break;
                default:
                    return; // Should not happen
            }
            shapeElement.setAttribute("fill", fillColor);
            shapeElement.setAttribute("stroke", strokeColor);
            shapeElement.setAttribute("stroke-width", strokeWidth);
            svg.appendChild(shapeElement);
            shapeDisplay.appendChild(svg);
        }

        function checkShapeGuess() {
            const guess = document.getElementById('shapeGuessInput').value.trim().toLowerCase();
            const messageElement = document.getElementById('shapeMessage');

            if (guess === currentShapeName.toLowerCase()) {
                messageElement.textContent = `üéâ Correct! It was a ${currentShapeName}!`;
                messageElement.className = "mt-6 text-xl font-bold text-green-600";
            } else {
                messageElement.textContent = `Incorrect. Try again! It was not a ${guess}.`;
                messageElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }

        // Palindrome Checker game logic
        function checkPalindrome() {
            const input = document.getElementById('palindromeInput').value.trim();
            const type = document.getElementById('palindromeType').value;
            const resultElement = document.getElementById('palindromeResult');

            if (!input) {
                resultElement.textContent = "Please enter something to check.";
                resultElement.className = "mt-6 text-xl font-medium text-red-600";
                return;
            }

            let cleanedInput;
            if (type === 'word') {
                cleanedInput = input.toLowerCase().replace(/[^a-z0-9]/g, ''); // Remove non-alphanumeric
            } else { // number
                cleanedInput = input.replace(/[^0-9]/g, ''); // Remove non-numeric
            }

            const reversedInput = cleanedInput.split('').reverse().join('');

            if (cleanedInput === reversedInput && cleanedInput !== '') {
                resultElement.textContent = `"${input}" is a palindrome! ‚ú®`;
                resultElement.className = "mt-6 text-xl font-bold text-green-600";
            } else {
                resultElement.textContent = `"${input}" is NOT a palindrome. üôÅ`;
                resultElement.className = "mt-6 text-xl font-medium text-red-600";
            }
        }

        // Random Fact Generator game logic
        const facts = {
            animals: [
                "A group of owls is called a parliament.",
                "Butterflies taste with their feet.",
                "A snail can sleep for three years.",
                "Octopuses have three hearts."
            ],
            history: [
                "The shortest war in history lasted only 38 to 45 minutes.",
                "The Great Wall of China is not visible from space with the naked eye.",
                "Cleopatra was not Egyptian; she was Greek."
            ],
            science: [
                "A bolt of lightning is five times hotter than the sun.",
                "Honey never spoils.",
                "There are more stars in the universe than grains of sand on all the beaches on Earth."
            ],
            random: [
                "The average person walks the equivalent of three times around the world in a lifetime.",
                "It is impossible for most people to lick their own elbow.",
                "A 'jiffy' is an actual unit of time: 1/100th of a second."
            ]
        };

        function generateFact() {
            const category = document.getElementById('factCategory').value;
            let factList;
            if (category === 'random') {
                const allFacts = [].concat(...Object.values(facts));
                factList = allFacts;
            } else {
                factList = facts[category];
            }
            const randomFact = factList[Math.floor(Math.random() * factList.length)];
            document.getElementById('factDisplay').textContent = randomFact;
        }

        // Unit Converter game logic
        const conversions = {
            length: {
                'meters': { to: { 'feet': 3.28084, 'inches': 39.3701 }, from: { 'feet': 0.3048, 'inches': 0.0254 } },
                'feet': { to: { 'meters': 0.3048, 'inches': 12 }, from: { 'meters': 3.28084, 'inches': 0.0833333 } },
                'inches': { to: { 'meters': 0.0254, 'feet': 0.0833333 }, from: { 'meters': 39.3701, 'feet': 12 } }
            },
            weight: {
                'kilograms': { to: { 'pounds': 2.20462, 'ounces': 35.274 }, from: { 'pounds': 0.453592, 'ounces': 0.0283495 } },
                'pounds': { to: { 'kilograms': 0.453592, 'ounces': 16 }, from: { 'kilograms': 2.20462, 'ounces': 0.0625 } },
                'ounces': { to: { 'kilograms': 0.0283495, 'pounds': 0.0625 }, from: { 'kilograms': 35.274, 'pounds': 16 } }
            },
            temperature: {
                'celsius': { to: { 'fahrenheit': (c) => (c * 9/5) + 32, 'kelvin': (c) => c + 273.15 }, from: { 'fahrenheit': (f) => (f - 32) * 5/9, 'kelvin': (k) => k - 273.15 } },
                'fahrenheit': { to: { 'celsius': (f) => (f - 32) * 5/9, 'kelvin': (f) => ((f - 32) * 5/9) + 273.15 }, from: { 'celsius': (c) => (c * 9/5) + 32, 'kelvin': (k) => ((k - 273.15) * 9/5) + 32 } },
                'kelvin': { to: { 'celsius': (k) => k - 273.15, 'fahrenheit': (k) => ((k - 273.15) * 9/5) + 32 }, from: { 'celsius': (c) => c + 273.15, 'fahrenheit': (f) => ((f - 32) * 5/9) + 273.15 } }
            }
        };

        function setupUnitConverter() {
            const type = document.getElementById('conversionType').value;
            const inputUnitSelect = document.getElementById('inputUnit');
            const outputUnitSelect = document.getElementById('outputUnit');
            inputUnitSelect.innerHTML = '';
            outputUnitSelect.innerHTML = '';

            const units = Object.keys(conversions[type]);
            units.forEach(unit => {
                const option1 = document.createElement('option');
                option1.value = unit;
                option1.textContent = unit.charAt(0).toUpperCase() + unit.slice(1);
                inputUnitSelect.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = unit;
                option2.textContent = unit.charAt(0).toUpperCase() + unit.slice(1);
                outputUnitSelect.appendChild(option2);
            });
            document.getElementById('conversionResult').textContent = '';
            document.getElementById('inputValue').value = '';
        }

        function convertUnit() {
            const type = document.getElementById('conversionType').value;
            const inputValue = parseFloat(document.getElementById('inputValue').value);
            const inputUnit = document.getElementById('inputUnit').value;
            const outputUnit = document.getElementById('outputUnit').value;
            const resultElement = document.getElementById('conversionResult');

            if (isNaN(inputValue)) {
                resultElement.textContent = "Please enter a valid number.";
                resultElement.className = "mt-6 text-xl font-medium text-red-600";
                return;
            }

            if (inputUnit === outputUnit) {
                resultElement.textContent = `${inputValue} ${inputUnit} is ${inputValue} ${outputUnit}.`;
                resultElement.className = "mt-6 text-xl font-medium text-gray-800";
                return;
            }

            let convertedValue;
            if (type === 'temperature') {
                const convertFunc = conversions[type][inputUnit].to[outputUnit];
                convertedValue = convertFunc(inputValue);
            } else {
                // Convert input to base unit (e.g., meters, kilograms) then to output unit
                const baseValue = inputValue * conversions[type][inputUnit].from[Object.keys(conversions[type][inputUnit].from)[0]]; // Convert to first unit in 'from' list as base
                convertedValue = baseValue * conversions[type][Object.keys(conversions[type][inputUnit].from)[0]].to[outputUnit];
            }

            resultElement.textContent = `${inputValue} ${inputUnit} is ${convertedValue.toFixed(4)} ${outputUnit}.`;
            resultElement.className = "mt-6 text-xl font-bold text-green-600";
        }

        // Show the game selection on initial load
        document.addEventListener('DOMContentLoaded', () => {
            showGameSelection();
        });
    </script>
</body>
</html>
ÔøΩ
